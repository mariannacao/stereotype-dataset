# Dialogue Formatter

This tool converts the JSON dialogue files generated by the Persuasion Dialogue Framework into nicely formatted text files that are easy to read and analyze.

## Features

- Automatically finds and processes the most recent dialogue output directory
- Converts JSON files to human-readable text format
- Organizes information into clear sections:
  - Scenario information (context, goal, topics)
  - Persona details (attributes, background, traits)
  - Conversation history with turn-by-turn analysis
  - Overall conversation analysis
- Preserves the original directory structure
- Skips metadata files (those starting with underscore)

## Usage

1. Make sure you have already generated dialogue files using the main script:
   ```
   python main.py
   ```

2. Run the formatter script:
   ```
   python format_dialogues.py
   ```

3. The script will automatically:
   - Find the most recent `dialogue_outputs_*` directory
   - Process all JSON files in that directory and its subdirectories
   - Create corresponding `.txt` files in the same locations

## Output Format

The generated text files include:

### Scenario Information
- Name of the scenario
- Context and goal
- Suggested topics and potential conflicts

### Personas
- Detailed information about each persona:
  - Basic attributes (gender, age, education, etc.)
  - Background
  - Personality traits
  - Communication style
  - Core values
  - Key experiences

### Conversation History
- Turn-by-turn dialogue with speaker information
- Analysis for each turn (if available)

### Conversation Analysis
- Overall analysis of the dialogue
- Stereotype patterns
- Persona consistency
- Conversation dynamics

## Example

For a JSON file named `leadership_and_competence.json`, the script will create a corresponding `leadership_and_competence.txt` file in the same directory with all the information formatted for easy reading.

## Requirements

- Python 3.6+
- No additional dependencies beyond those required by the main project 